<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arena Quest â€” Mini MMORPG</title>
    <meta name="theme-color" content="#1b1b1b">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="site-header">
        <div class="title-wrap">
            <h1>Arena Quest</h1>
            <p class="tagline">Aventure mmorp â€” mobile first</p>
        </div>
    </header>

    <main class="container">
        <section id="logPanel" class="panel log-panel">
                <button id="goToArena" class="btn primary">Aller Ã  l'arÃ¨ne</button>
            <div id="log" class="log" aria-live="polite"></div>
            <div class="log-controls" style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;align-items:center">
                <button id="attackBtn" class="btn danger">Attaquer</button>
                <button id="runBtn" class="btn">Fuir</button>
            </div>
        </section>

        <section id="playerPanel" class="panel player">
            <div class="player-head">
                <h2>ðŸ‘¤ Joueur</h2>
                <div class="hp-bar" aria-hidden="false">
                    <div id="hpFill" class="hp-fill"></div>
                </div>
                <div class="xp-bar" aria-hidden="false" title="Progression vers le niveau suivant">
                    <div id="xpFill" class="hp-fill" style="background:linear-gradient(90deg,#6fb3ff,#8ae6ff)"></div>
                </div>
            </div>
            <p id="playerStats" class="stats"></p>
            <div class="player-controls" style="margin-top:12px;">
                <button id="openInventoryBtn" class="btn">Inventaire &amp; Ã‰quipement</button>
            </div>
        </section>

        <section id="arenaPanel" class="panel arena">
            <div class="arena-top">
                <div id="enemyInfo" class="enemy-info"></div>
            </div>
        </section>

        <aside id="shopPanel" class="panel shopPanel">
            <button id="openShop" class="btn">Magasin</button>
            <button id="openCatalogBtn" class="btn">Catalogue</button>
            <div id="shop" class="shop" aria-hidden="true"></div>
            <div id="catalog" class="shop" aria-hidden="true" style="display:none;">
                <!-- contenu gÃ©nÃ©rÃ© par JS -->
            </div>
            <div id="tierLegend" class="tier-legend">
                <!-- LÃ©gende des paliers (gÃ©nÃ©rÃ©e par JS) -->
            </div>
        </aside>
    </main>

    <footer class="site-footer">Version alpha â€” AmÃ©liore l'interface pour mobile</footer>

    <!-- Backdrop for modals (shop / catalog) -->
    <div id="modalBackdrop" class="modal-backdrop" style="display:none;"></div>

    <!-- Modal for Inventory & Equipment -->
    <div id="invEquipModal" class="modal" role="dialog" aria-hidden="true" style="display:none;">
        <div class="modal-content">
            <button id="closeInvEquipModal" class="modal-close" aria-label="Fermer">âœ•</button>
            <h2>Inventaire &amp; Ã‰quipement</h2>
            <div class="modal-columns">
                <div class="modal-column">
                    <h3>Ã‰quipement</h3>
                    <div id="equipment" class="equipment">
                        <div class="equipment-figure" aria-hidden="true">
                            <!-- Simple humanoid SVG (head + torso) -->
                            <svg viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Silhouette joueur">
                                <defs>
                                  <linearGradient id="skin" x1="0" x2="0" y1="0" y2="1">
                                    <stop offset="0%" stop-color="#d8c8b0" stop-opacity="0.9" />
                                    <stop offset="100%" stop-color="#bfa98a" stop-opacity="0.9" />
                                  </linearGradient>
                                </defs>
                                <!-- head -->
                                <circle cx="100" cy="60" r="28" fill="url(#skin)" stroke="rgba(0,0,0,0.35)" stroke-width="1" />
                                <!-- neck -->
                                <rect x="92" y="84" width="16" height="8" rx="2" fill="#c8b39b" />
                                <!-- torso -->
                                <path d="M60 110 C60 170, 140 170, 140 110 L140 210 C120 230, 80 230, 60 210 Z" fill="#2b2f34" opacity="0.95" stroke="rgba(255,255,255,0.03)" />
                                <!-- simple shoulders hint -->
                                <ellipse cx="100" cy="120" rx="38" ry="8" fill="rgba(255,255,255,0.02)" />
                            </svg>
                        </div>
                        <div class="equipment-slots" aria-live="polite"></div>
                    </div>
                </div>
                <div class="modal-column">
                    <h3>Inventaire</h3>
                    <div id="inventory" class="inventory-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>